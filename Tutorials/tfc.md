---
layout: default
title: TFC(Text-Field Calculator)とは?
description: 爆弾解除に最適な電卓、TFCの紹介です
lang: ja_JP
---

## TFC(Text-Field Calculator)とは?

* [ここから](https://samfundev.github.io/TextFieldCalculator/Calculator.html)利用することができます。
* 一般的な計算機と比べると、計算式を入力しながら結果を見たり、計算式を細かく書き換えたりと、使い勝手がよく設計されてます。
* KTaNEにおいて、「許される計算機の性能の上限」としてのデファクトスタンダードとなっています。
  * これ以上の計算機能(例えばプログラミング言語など)は禁止されていることが多いです。
* 意外とできることが多く高性能です。

### 基本的な使い方

* 上のテキストボックスに入力すると、その結果が「Output:」以下に出力されます。テキストを変更すると、随時結果が更新されます
* テキストで改行をすると、それぞれの行の計算結果が出力されます。
* Tabを押すと、現在の計算結果がテキストフィールドに入力されます。

### 四則演算、剰余算、括弧

* 四則演算`+-*/`と剰余算(%)を利用できます。

```
3 + 5
7 - 8
2 * 7
18 / 9
```

結果:
```
[8, -1, 14, 2, 3, 43]
```

* 剰余算(%)は、余りを求める計算です。負の数に対して利用した場合では、正の値になるような余りを求めます。
  * -8 = -3 * 3 + 1なので、-8 % 3 = 1となる
* べき乗`^`は、xのy乗を求める計算です。


```
8 % 3
-8 % 3
5 ^ 4
```

結果:
```
[2, 1, 625]
```
  
* 計算の優先度は、(`^`)→(`*/`)→(`%`)→(`+-`)の順です。ただし、括弧を使うことによってカッコ内を先に計算させることができます。
```
(15 - 7) * 5 + 3
```

結果:
```
43
```

### 配列

* `[]`を使うことによって、配列(ベクトル)を利用することができます。四則演算や剰余算を使って、それぞれの要素に対して計算することができます。

```
27 - [1,20,2,1,19,8]
(5*[1,6,6,9,14,5]+1)%26
```

結果:
```
[[26, 7, 25, 26, 8, 19], [6, 5, 5, 20, 19, 0]]
```

* 配列同士を四則演算することもできます。ただし、乗算は`.*`、除算は`./`を利用します。(同じ長さのときに限る)
```
([5,14,3,15,4,5]+[22,9,7,5,14,5])%26
([4,5,3,15,4,5]-[22,9,7,5,14,5])%26
[3,4,5].*[2,3,4]
[9,8,7]./[3,2,1]
```

結果:
```
[[1, 23, 10, 20, 18, 10], [8, 22, 22, 10, 16, 0], [6, 12, 20], [3, 4, 7]]
```

### 変数

* 変数を利用することができます。
  * 行の終わりを`;`にすることによって、その行を結果に含めないことが可能です。

```
x = 30;
y = 5 * 10
x + 10
x * x
x + y
```

結果:
```
[50, 40, 900, 80]
```

### 進数変換

* 2,8,10,16進数に限っては、進数変換を行うことができます。

```
0b1101
0o62
0xFF
bin(13)
oct(50)
hex(255)
```

結果:
```
[13, 50, 255, 0b1101, 0o62, 0xff]
```

* ビット演算(and`&`、or`|`、xor`|^`)

### 組み込み関数

* 一覧については[mathjsのドキュメント](https://mathjs.org/docs/reference/functions.html)から見つけることができます。
* 以下は特によく使うものです

```
sqrt(16) #平方根
log(64, 2) #対数
isPrime(57) #素数判定
floor(1.12) #繰り下げ
ceil(2.25) #繰り上げ
round(4.49) #四捨五入
range(2,4) #連続した整数の配列
```

結果:
```
[4, 6, false, 1, 3, 4, [2, 3, 4]]
```